{
    "id": "35ceba32-9bd4-415b-a7c7-06f60b1c8668",
    "name": "Create-pull-request",
    "friendlyName": "Create a Github Pull request",
    "description": "Create a Github Pull request",
    "helpMarkDown": "",
    "category": "Utility",
    "author": "Mariano Julio Vicario",
    "version": {
        "Major": 1,
        "Minor": 0,
        "Patch": 8
    },
    "instanceNameFormat": "Create pull request - con y sin pto",
    "inputs": [{
            "name": "githubEndpoint",
            "type": "connectedService:github",
            "label": "GitHub Connection",
            "defaultValue": "",
            "required": true,
            "helpMarkDown": "Select the service endpoint for your GitHub connection. <br>To create one, click the Manage link and create a new service endpoint."
        },
        {
            "name": "githubRepository",
            "type": "pickList",
            "label": "Repository",
            "defaultValue": "",
            "visibleRule": "githubEndpoint != \"\"",
            "required": true,
            "helpMarkDown": "Name of the GitHub repository. <br>If empty, it will be extracted from <strong>package.json</strong> (the repository.url field).",
            "properties": {
                "DisableManageLink": "True"
            }
        },
        {
            "name": "headBranch",
            "type": "pickList",
            "label": "Head Branch",
            "defaultValue": "",
            "required": true,
            "visibleRule": "githubRepository != \"\"",
            "helpMarkDown": "The <strong>from</strong> branch",
            "properties": {
                "DisableManageLink": "True"
            }
        },
        {
            "name": "baseBranch",
            "type": "pickList",
            "label": "Base branch",
            "defaultValue": "",
            "required": true,
            "visibleRule": "githubRepository != \"\"",
            "helpMarkDown": "The <strong>TO</strong> branch. Typically the master branch.",
            "properties": {
                "DisableManageLink": "True"
            }
        }
    ],
    "sourceDefinitions": [{
            "target": "githubRepository",
            "endpoint": "/$(system.teamProject)/_apis/sourceProviders/GitHub/repositories?serviceEndpointId=$(githubEndpoint)",
            "selector": "jsonpath:$.repositories[*].id",
            "keySelector": "jsonpath:$.repositories[*].id",
            "authKey": "tfs:teamfoundation"
        },
        {
            "target": "headBranch",
            "endpoint": "/$(system.teamProject)/_apis/sourceProviders/GitHub/branches?serviceEndpointId=$(githubEndpoint)&repository=$(githubRepository)&api-version=5.0-preview.1",
            "selector": "jsonpath:$.[*]",
            "keySelector": "jsonpath:$.[*]",
            "authKey": "tfs:teamfoundation"
        },
        {
            "target": "baseBranch",
            "endpoint": "/$(system.teamProject)/_apis/sourceProviders/GitHub/branches?serviceEndpointId=$(githubEndpoint)&repository=$(githubRepository)&api-version=5.0-preview.1",
            "selector": "jsonpath:$[*]",
            "keySelector": "jsonpath:$[*]",
            "authKey": "tfs:teamfoundation"
        }
    ],
    "execution": {
        "Node": {
            "target": "index.js"
        }
    }
}