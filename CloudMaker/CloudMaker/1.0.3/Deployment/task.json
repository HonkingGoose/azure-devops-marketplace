{
  "id": "51103b6f-53e1-4aa9-9d30-0c6d3031161b",
  "name": "CloudMakerDeployment",
  "friendlyName": "Cloud Maker Deployment",
  "description": "Deploys a Cloud Maker blueprint",
  "helpMarkDown": "",
  "category": "Deploy",
  "author": "Cloud Maker",
  "version": {
    "Major": 0,
    "Minor": 1,
    "Patch": 1
  },
  "instanceNameFormat": "Cloud Maker Deployment",
  "inputs": [
    {
      "name": "Organisation",
      "type": "pickList",
      "label": "Organisation",
      "defaultValue": "certainsix.com",
      "required": true,
      "helpMarkDown": "The organisation service connection",
      "options": {
        "certainsix.com": "certainsix.com",
        "Private": "Private"
      }
    },
    {
      "name": "BlueprintName",
      "type": "pickList",
      "label": "Blueprint name",
      "defaultValue": "Two-tier architecture",
      "required": true,
      "helpMarkDown": "The name of the blueprint to deploy",
      "options": {
        "Two-tier architecture": "Two-tier architecture",
        "Bitcoin mining cluster": "Bitcoin mining cluster"
      }
    },
    {
      "name": "BlueprintVersion",
      "type": "pickList",
      "label": "Blueprint version",
      "defaultValue": "1.0",
      "required": true,
      "helpMarkDown": "The version of the blueprint to deploy",
      "options": {
        "1.0": "1.0",
        "0.9": "0.9",
        "0.8": "0.8"
      }
    },
    {
      "name": "ConnectedServiceName",
      "aliases": [
        "azureSubscription"
      ],
      "type": "connectedService:AzureRM",
      "label": "Azure subscription",
      "defaultValue": "",
      "required": true,
      "helpMarkDown": "Select the Azure Resource Manager subscription for the deployment."
    },
    {
      "name": "ResourceGroupName",
      "type": "pickList",
      "label": "Resource group",
      "required": true,
      "helpMarkDown": "The name of a resource group.",
      "properties": {
        "EditableOptions": "True"
      }
    },
    {
      "name": "ResourceGroupLocation",
      "type": "pickList",
      "label": "Resource group location",
      "required": true,
      "helpMarkDown": "Location for deploying the resource group. If the resource group already exists in the subscription, then this value will be ignored.",
      "properties": {
        "EditableOptions": "True"
      }
    },
    {
      "name": "DeploymentMode",
      "type": "pickList",
      "label": "Deployment mode",
      "defaultValue": "Incremental",
      "required": true,
      "helpMarkDown": "Refer to [this](https://docs.microsoft.com/en-us/azure/azure-resource-manager/deployment-modes) for more details. \n\n Incremental mode handles deployments as incremental updates to the resource group. It leaves unchanged resources that exist in the resource group but are not specified in the template. \n\n Complete mode deletes resources that are not in your template. Complete mode takes relatively more time than incremental mode. If the task times out, consider increasing the timeout, or changing the mode to 'Incremental'. \n [Warning] This action will delete all the existing resources in the resource group that are not specified in the template. \n\n Validate mode enables you to find problems with the template before creating actual resources. \n\n By default, Incremental mode is used.",
      "options": {
        "Incremental": "Incremental",
        "Complete": "Complete",
        "Validation": "Validation only"
      }
    }
  ],
  "dataSourceBindings": [
    {
      "target": "ResourceGroupName",
      "endpointId": "$(ConnectedServiceName)",
      "dataSourceName": "AzureResourceGroups"
    },
    {
      "target": "ResourceGroupLocation",
      "endpointId": "$(ConnectedServiceName)",
      "dataSourceName": "AzureLocations"
    }
  ],  
  "execution": {
    "Node": {
      "target": "index.js"
    }
  }
}