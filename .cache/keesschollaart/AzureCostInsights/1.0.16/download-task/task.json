{
    "id": "adff96fa-a978-4c69-8fb4-08fda81b3c15",
    "name": "DownloadCostData",
    "friendlyName": "Download Cost Data",
    "description": "Fetch your Azure Cost data and prepare it for use in the widget",
    "helpMarkDown": "[More Information](https://github.com/keesschollaart81/CaseOnline.AzureCostInsights)",
    "category": "Build",
    "visibility": [
        "Build"
    ],
    "author": "Kees Schollaart",
    "version": {
        "Major": 1,
        "Minor": 0,
        "Patch": 15
    },
    "demands": [],
    "minimumAgentVersion": "1.99.0",
    "groups": [],
    "inputs": [
        {
            "name": "ConnectedServiceNameARM",
            "type": "connectedService:AzureRM",
            "label": "AzureRM Subscription",
            "defaultValue": "",
            "required": true,
            "helpMarkDown": "Select the Azure Resource Manager subscription."
        },
        {
            "name": "DaysToDownload",
            "type": "string",
            "label": "Days to download",
            "defaultValue": "60",
            "required": true,
            "helpMarkDown": "The number of days to download usage data for"
        },
        {
            "name": "apiToUse",
            "type": "pickList",
            "label": "Which Azure API to use",
            "helpMarkDown": "The new consumption API is easier & faster but not all types of subscription are supported. Checkout [this blogpost](https://azure.microsoft.com/nl-nl/blog/azure-consumption-usage-details-api/) for more info. When unsure, start with 'consumption' and the task will fail with a message saying that you need to switch from to the 'usage' api.",
            "defaultValue": "consumption",
            "required": true,
            "options": {
                "consumption": "Consumption",
                "usage": "Usage"
            }
        },
        {
            "name": "offerType",
            "type": "string",
            "label": "Offer ID",
            "defaultValue": "MS-AZR-0003P",
            "visibleRule": "apiToUse == usage",
            "required": true,
            "helpMarkDown": "Set this field to a valid Offer ID code (e.g., MS-AZR-0026P). See [Microsoft Azure Offer Details](https://azure.microsoft.com/en-us/support/legal/offer-details/) for more information on the list of available Offer IDs, country/region availability, and billing currency. The Offer ID parameter consists of the “MS-AZR-“ prefix, plus the Offer ID number. Open your subscription in the Azure Portal and check the 'Offer Type' on the summary of the subscription pane."
        },
        {
            "name": "currency",
            "type": "string",
            "label": "Currency",
            "defaultValue": "USD",
            "visibleRule": "apiToUse == usage",
            "required": true,
            "helpMarkDown": "Set to the currency in which the resource rates need to be provided. Can be found in the details of your subscription [here](https://account.azure.com/Subscriptions/). More info [here](https://docs.microsoft.com/en-us/previous-versions/azure/reference/mt219004(v%3dazure.100))"
        },
        {
            "name": "locale",
            "type": "string",
            "label": "Locale",
            "defaultValue": "en-US",
            "visibleRule": "apiToUse == usage",
            "required": true,
            "helpMarkDown": "Set to the culture in which the resource metadata needs to be localized. More info [here](https://docs.microsoft.com/en-us/previous-versions/azure/reference/mt219004(v%3dazure.100))"
        },
        {
            "name": "regioInfo",
            "type": "string",
            "label": "Regio Info",
            "defaultValue": "US",
            "visibleRule": "apiToUse == usage",
            "required": true,
            "helpMarkDown": "Set to the 2 letter ISO code where the offer was purchased. Find your locale [here](https://account.azure.com/Profile). More info [here](https://docs.microsoft.com/en-us/previous-versions/azure/reference/mt219004(v%3dazure.100))"
        }
    ],
    "dataSourceBindings": [],
    "instanceNameFormat": "Download cost data $(ConnectedServiceNameARM)",
    "execution": {
        "Node": {
            "target": "index.js"
        }
    }
}