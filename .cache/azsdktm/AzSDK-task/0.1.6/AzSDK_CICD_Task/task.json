{
  "id": "C016CC55-9914-4A9C-B9DF-F24D6F9A40F6",
  "name": "AzSDKSVTs",
  "friendlyName": "AzSDK Security Verification Tests",
  "description": "Execute AzSDK security controls checks on Azure resources",
  "helpMarkDown": "[More Information](http://aka.ms/azsdkossdocs)",
  "category": "Test",
  "visibility": [    
    "Release"
  ],
  "author": "Microsoft Corporation",
  "version": {
    "Major": 0,
    "Minor": 1,
    "Patch": 6
  },
  "demands": [
    "azureps"
  ],
  "minimumAgentVersion": "1.103.0",
  "instanceNameFormat": "AzSDK_SVTs $(message)",
  "inputs": [
    {
      "name": "ConnectedServiceNameARM",
      "type": "connectedService:AzureRM",
      "label": "AzureRM Subscription",
      "defaultValue": "",
      "required": true,
      "helpMarkDown": "Azure Resource Manager subscription to configure before running PowerShell"
    },
    {
      "name": "GenerateMethodParameterSetSelection",
      "type": "pickList",
      "label": "Select Parameter Set",
      "required": true,
      "helpMarkDown": "",
      "options": {
        "ResourceGroupName": "ResourceGroupName",
        "TagNameValuePair": "TagNameValuePair"
      }
    },
    {
      "name": "ResourceGroupName",
      "type": "string",
      "label": "ResourceGroup Names",
      "defaultValue": "",
      "required": true,
      "helpMarkDown": "Comma separated list of resource groups against which Security Verification Tests (SVTs) should be run.",
      "visibleRule": "GenerateMethodParameterSetSelection = ResourceGroupName"
    },
    {
      "name": "TagName",
      "type": "string",
      "label": "Tag Name",
      "defaultValue": "",
      "required": true,
      "helpMarkDown": "Tag Name/Value pair to identify resources against which Security Verification Tests (SVTs) should be run.",
      "visibleRule": "GenerateMethodParameterSetSelection = TagNameValuePair"
    },
    {
      "name": "TagValue",
      "type": "string",
      "label": "Tag Value",
      "defaultValue": "",
      "helpMarkDown": "Tag Name/Value pair to identify resources against which Security Verification Tests (SVTs) should be run.",
      "required": true,
      "visibleRule": "GenerateMethodParameterSetSelection = TagNameValuePair"
    },
    {
      "name": "SubscriptionId",
      "type": "string",
      "label": "Subscription ID",
      "defaultValue": "",
      "helpMarkDown": "Id of the subscription holding the resources against which Security Verification Tests (SVTs) should be run. ",
      "required": true
    },
    {
      "name": "EnableOMSLogging",
      "type": "boolean",
      "label": "Enable OMS Logging",
      "defaultValue": "true",
      "helpMarkDown": "Switch to enable this task to publish SVT evalution results to an OMS workspace.",
      "required": false
    },
    {
      "name": "AggregateControlsStatus",
      "type": "boolean",
      "label": "Aggregate Control Status",
      "defaultValue": "false",
      "helpMarkDown": "Switch to aggregate the SVTs control output. When this is turned off it would show all the failed controls in the task summary output.",
      "required": false
    },
    {
      "name": "DisableAutoUpdate",
      "type": "boolean",
      "label": "Do not auto-update AzSDK",
      "defaultValue": "false",
      "helpMarkDown": "Switch to toggle auto update of AzSDK and required AzureRM modules on the build server. Keep this un-checked for Hosted agents.",
      "required": false
    },
    {
      "name": "UseBetaRepository",
      "type": "boolean",
      "label": "Use Preview Modules of AzSDK",
      "defaultValue": "false",
      "helpMarkDown": "Switch to toggle use of preview drop of AzSDK SVTs. By default it is configured to use stable released bits of AzSDK.",
      "required": false
    }


  ],
  "execution": {
    "PowerShell3": {
      "target": "AzSDKSVTRuntime.ps1"
    }
  }
}
