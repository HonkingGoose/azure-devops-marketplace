{
    "id":  "0c42062e-04ee-4507-af30-009a5d8f1983",
    "name":  "ALOpsDockerStart",
    "friendlyName":  "ALOps Docker Start",
    "description":  "Start a Business Central container",
    "author":  "Hodor",
    "helpMarkDown":  "Start Business Central docker container.",
    "category":  "Utility",
    "visibility":  [
                       "Build",
                       "Release"
                   ],
    "demands":  [

                ],
    "version":  {
                    "Major":  1,
                    "Minor":  438,
                    "Patch":  2083
                },
    "minimumAgentVersion":  "1.95.0",
    "instanceNameFormat":  "ALOps Docker Start",
    "groups":  [
                   {
                       "name":  "database_server",
                       "displayName":  "Database Server",
                       "isExpanded":  false
                   }
               ],
    "inputs":  [
                   {
                       "name":  "fixed_tag",
                       "type":  "string",
                       "label":  "Fixed Container Tag",
                       "defaultValue":  "",
                       "required":  false,
                       "helpMarkDown":  "Allows recycling of docker containers."
                   },
                   {
                       "name":  "ignore_no_container_warning",
                       "type":  "boolean",
                       "label":  "Ignore no Container Warning",
                       "defaultValue":  false,
                       "required":  false,
                       "helpMarkDown":  "Do not trigger warning when container with [fixed_tag] is not found."
                   },
                   {
                       "name":  "docker_image",
                       "type":  "string",
                       "label":  "Docker Image",
                       "defaultValue":  "$(ALOPS_BC_IMAGE)",
                       "required":  false,
                       "helpMarkDown":  "Business Central docker Image to Start."
                   },
                   {
                       "name":  "accept_image_eula",
                       "type":  "boolean",
                       "label":  "Accept Image Eula",
                       "defaultValue":  true,
                       "required":  false,
                       "helpMarkDown":  "Accept Eula of docker image."
                   },
                   {
                       "name":  "accept_image_outdated",
                       "type":  "boolean",
                       "label":  "Accept Image Outdated",
                       "defaultValue":  true,
                       "required":  false,
                       "helpMarkDown":  "Accept Outdated image."
                   },
                   {
                       "name":  "enable_symbol_loading",
                       "type":  "boolean",
                       "label":  "Enable Symbol Loading",
                       "defaultValue":  false,
                       "required":  false,
                       "helpMarkDown":  "Enable Symbol Loading."
                   },
                   {
                       "name":  "enable_api_services",
                       "type":  "boolean",
                       "label":  "Enable API Services",
                       "defaultValue":  false,
                       "required":  false,
                       "helpMarkDown":  "Enable API Services."
                   },
                   {
                       "name":  "docker_pull",
                       "type":  "boolean",
                       "label":  "Pull Image",
                       "defaultValue":  true,
                       "required":  false,
                       "helpMarkDown":  "Force Pull docker image."
                   },
                   {
                       "name":  "dockerauthentication",
                       "type":  "pickList",
                       "label":  "docker Authentication",
                       "defaultValue":  "None",
                       "options":  {
                                       "None":  "None",
                                       "Endpoint":  "Endpoint",
                                       "UsernamePassword":  "Username/Password"
                                   },
                       "required":  false,
                       "helpMarkDown":  "Set authentication Method to use."
                   },
                   {
                       "name":  "docker_login",
                       "type":  "connectedService:generic",
                       "label":  "Docker Login",
                       "defaultValue":  "",
                       "required":  false,
                       "visibleRule":  "dockerauthentication = Endpoint",
                       "helpMarkDown":  "Select the generic login to use for docker. If needed, click on \u0027manage\u0027, and add a new Service Endpoint of type \u0027Generic\u0027"
                   },
                   {
                       "name":  "docker_username",
                       "type":  "string",
                       "label":  "Docker Username",
                       "defaultValue":  "",
                       "required":  false,
                       "visibleRule":  "dockerauthentication = UsernamePassword",
                       "helpMarkDown":  "Docker login username."
                   },
                   {
                       "name":  "docker_password",
                       "type":  "string",
                       "label":  "Docker Password",
                       "defaultValue":  "",
                       "required":  false,
                       "visibleRule":  "dockerauthentication = UsernamePassword",
                       "helpMarkDown":  "Docker login password."
                   },
                   {
                       "name":  "docker_registry",
                       "type":  "string",
                       "label":  "Docker Registry",
                       "defaultValue":  "",
                       "required":  false,
                       "visibleRule":  "dockerauthentication = UsernamePassword",
                       "helpMarkDown":  "Docker registry for login, example: \u0027bcinsider.azurecr.io\u0027"
                   },
                   {
                       "name":  "memory_gb",
                       "type":  "string",
                       "label":  "Memory Limit (GB)",
                       "defaultValue":  "-1",
                       "required":  false,
                       "helpMarkDown":  "Set maximum memory for container in GB."
                   },
                   {
                       "name":  "container_restart",
                       "type":  "pickList",
                       "label":  "Container Restart",
                       "defaultValue":  "no",
                       "options":  {
                                       "no":  "No",
                                       "on-failure":  "On Failure",
                                       "unless-stopped":  "Unless Stopped",
                                       "always":  "Always"
                                   },
                       "required":  false,
                       "helpMarkDown":  "Set docker container restart preference."
                   },
                   {
                       "name":  "docker_parameters",
                       "type":  "multiLine",
                       "properties":  {
                                          "resizable":  true,
                                          "rows":  "3"
                                      },
                       "label":  "Docker Parameters",
                       "defaultValue":  "",
                       "required":  false,
                       "helpMarkDown":  "Specify additional docker parameters."
                   },
                   {
                       "name":  "sql_server",
                       "type":  "string",
                       "label":  "SQL Server",
                       "defaultValue":  "",
                       "required":  false,
                       "groupName":  "database_server",
                       "helpMarkDown":  "External SQL Server."
                   },
                   {
                       "name":  "sql_server_instance",
                       "type":  "string",
                       "label":  "SQL Instance",
                       "defaultValue":  "",
                       "required":  false,
                       "groupName":  "database_server",
                       "helpMarkDown":  "External SQL Server Instance."
                   },
                   {
                       "name":  "sql_database",
                       "type":  "string",
                       "label":  "Database Name",
                       "defaultValue":  "",
                       "required":  false,
                       "groupName":  "database_server",
                       "helpMarkDown":  "External SQL Database."
                   },
                   {
                       "name":  "sql_database_user",
                       "type":  "string",
                       "label":  "Database User",
                       "defaultValue":  "",
                       "required":  false,
                       "groupName":  "database_server",
                       "helpMarkDown":  "External SQL Database User."
                   },
                   {
                       "name":  "sql_database_user_password",
                       "type":  "string",
                       "label":  "Database Password",
                       "defaultValue":  "",
                       "required":  false,
                       "groupName":  "database_server",
                       "helpMarkDown":  "External SQL Database Password."
                   },
                   {
                       "name":  "sql_backup_file",
                       "type":  "string",
                       "label":  "Restore BAK",
                       "defaultValue":  "",
                       "required":  false,
                       "groupName":  "database_server",
                       "helpMarkDown":  "Restore BAK file on startup."
                   },
                   {
                       "name":  "encryption_key",
                       "type":  "string",
                       "label":  "Encryption Key",
                       "defaultValue":  "",
                       "required":  false,
                       "helpMarkDown":  "Encryption key for Service Tier."
                   }
               ],
    "execution":  {
                      "PowerShell3":  {
                                          "target":  "f94210ba-13ec-48ac-90d6-798e403fa39c.ps1"
                                      }
                  }
}
