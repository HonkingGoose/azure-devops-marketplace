{
  "id": "7225398a-2554-4700-ae2a-9176927c915b",
  "name": "provisionAzureSqlServer",
  "friendlyName": "Accelerators - Azure Sql Server ",
  "description": "Create an Logical Azure Sql Server v12.0",
  "author": "InCycleSoftwareInc-DEV",
  "category": "Deploy",
  "visibility": [
    "Build",
    "Release"
  ],
  "demands": [
    "azureps"
  ],
  "version": {
    "Major": "3",
    "Minor": "1",
    "Patch": "4"
  },
  "minimumAgentVersion": "1.97.0",
  "groups": [
    {
      "name": "subscription",
      "displayName": "Azure Subscription Deployment",
      "isExpanded": true
    },
    {
      "name": "sqlServer",
      "displayName": "Azure SQL Server",
      "isExpanded": true
    },
    {
      "name": "taskOutput",
      "displayName": "Task Output Variables",
      "isExpanded": true
    }
  ],
  "inputs": [
    {
      "name": "ConnectedServiceName",
      "type": "connectedService:AzureRM",
      "label": "Azure Release Manager Subscription",
      "defaultValue": "",
      "required": true,
      "groupName": "subscription",
      "properties": { },
      "helpMarkDown": "Azure Resource Manager Subscription to target deployment."
    },
    {
      "name": "ResourceGroupName",
      "type": "pickList",
      "label": "Resource Group",
      "defaultValue": "",
      "required": true,
      "groupName": "subscription",
      "properties": {
        "EditableOptions": "True"
      },
      "helpMarkDown": "Provide the Azure Resource Group for deployment."
    },
    {
      "name": "Location",
      "type": "pickList",
      "label": "Location",
      "required": true,
      "groupName": "subscription",
      "helpMarkDown": "Location for deploying the resource group. If the resource group already exists in the subscription, then this value will be ignored.",
      "properties": {
        "EditableOptions": "True"
      }
    },
    {
      "name": "SqlServerName",
      "type": "string",
      "label": "SQL Server Name",
      "defaultValue": "$(ReleaseVariables.SqlServerName)",
      "required": true,
      "groupName": "sqlServer",
      "properties": { },
      "helpMarkDown": "Name of the SQL Server (should be defined in a Release variable)."
    },
    {
      "name": "AdministratorLogin",
      "type": "string",
      "label": "Server Login",
      "defaultValue": "$(ReleaseVariables.SqlServerLogin)",
      "required": true,
      "groupName": "sqlServer",
      "properties": { },
      "helpMarkDown": "SQL Server Login (should be defined in a Release variable)."
    },
    {
      "name": "AdministratorLoginPassword",
      "type": "string",
      "label": "Server Login Password",
      "defaultValue": "$(ReleaseVariables.SqlServerLoginPassword)",
      "required": true,
      "groupName": "sqlServer",
      "properties": { },
      "helpMarkDown": "SQL Server Login password (should be defined in a Release variable)."
    },
    {
      "name": "Output_SqlServerName",
      "type": "string",
      "label": "SQL Server Name",
      "defaultValue": "ReleaseVariables.SqlServerProvisionedName",
      "required": false,
      "groupName": "taskOutput",
      "helpMarkDown": "Provide a name for the variable for the created Logical SQL Server. The variable can be used as $(variableName) to refer to the SQL Server in subsequent tasks."
    }
  ],
  "dataSourceBindings": [
    {
      "target": "ResourceGroupName",
      "endpointId": "$(ConnectedServiceName)",
      "dataSourceName": "AzureResourceGroups"
    },
    {
      "target": "location",
      "endpointId": "$(ConnectedServiceName)",
      "dataSourceName": "AzureLocations"
    }
  ],
  "instanceNameFormat": "Azure DevOps Accelerators - Azure Sql Server",
  "execution": {
    "PowerShell3": {
      "target": "main.ps1",
      "argumentFormat": ""
    }
  }
}