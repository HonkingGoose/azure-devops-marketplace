{
  "id": "36cbb8f8-6f18-4b55-bdd7-3ecf87044b08",
  "name": "gitsync",
  "friendlyName": "Publish Git Repo",
  "description": "Lets you Sync your Git repository with another",
  "helpMarkDown": "v2.3.12 [More Information](https://dev.azure.com/nkdagility/Azure-DevOps-Git-Tools)",
  "category": "Utility",
  "preview": true,
  "visibility": [
    "Build",
    "Release"
  ],
  "author": "naked Agility - Martin Hinshelwood",
  "version": {
    "Major": "2",
    "Minor": "3",
    "Patch": "12"
  },
  "minimumAgentVersion": "1.92.0",
  "inputs": [
    {
      "name": "githubEndpoint",
      "type": "connectedService:github",
      "label": "GitHub Connection",
      "defaultValue": "",
      "required": true,
      "helpMarkDown": "Select the service endpoint for your GitHub connection. To create one, click the Manage link and create a new service endpoint."
    },
    {
      "name": "repositoryName",
      "type": "pickList",
      "label": "Repository",
      "defaultValue": "",
      "required": true,
      "helpMarkDown": "Name of the GitHub repository",
      "properties": {
        "DisableManageLink": "True"
      }
    }
  ],
  "sourceDefinitions": [
    {
      "target": "repositoryName",
      "endpoint": "/$(system.teamProject)/_apis/sourceProviders/GitHub/repositories?serviceEndpointId=$(githubEndpoint)",
      "selector": "jsonpath:$.value[*].id",
      "keySelector": "jsonpath:$.value[*].id",
      "authKey": "tfs:teamfoundation"
    }
  ],
  "instanceNameFormat": "Publish Git Repo to $(repositoryName)",
  "execution": {
    "PowerShell3": {
      "target": "$(currentDirectory)\\gitsync.ps1",
      "argumentFormat": "",
      "workingDirectory": "$(Build.SourcesDirectory)"
    }
  }
}