{
    "$schema": "https://raw.githubusercontent.com/Microsoft/azure-pipelines-task-lib/master/tasks.schema.json",
    "id": "cbe6d7cf-333e-4613-9a10-338057fc2aed",
    "name": "GitTag",
    "friendlyName": "Git Tag",
    "description": "Tag a commit and push to a remote",
    "helpMarkDown": "[More information](https://github.com/cloudpups/universal-git-tags)",
    "category": "Utility",
    "author": "CloudPup",
    "version": {
        "Major": 0,
        "Minor": 1,
        "Patch": 0
    },
    "instanceNameFormat": "Git Tag",
    "inputs": [
        {
            "name": "credentials",
            "type": "connectedService:credentials",
            "label": "Credentials",
            "required": true,
            "helpMarkDown": "The credentials to use to setup and push the tag."
        },
        {
            "name": "repoUrl",
            "type": "string",
            "label": "Repository URL",
            "required": true,
            "helpMarkDown": "The URL of the Git Repo to push the Tag to. For example, `https://github.com/cloudpups/universal-git-tags.git`"
        },
        {
            "name": "commitHash",
            "type": "string",
            "label": "Commit Hash",
            "defaultValue": "$(Build.SourceVersion)",
            "required": true,
            "helpMarkDown": "The hash of the commit to tag, defaults to `$(Build.SourceVersion)`, fails if not set and `$(Build.SourceVersion)` is empty."
        },
        {
            "name": "tagName",
            "type": "string",
            "label": "Tag Name",
            "defaultValue": "$(Build.BuildNumber)",
            "required": true,
            "helpMarkDown": "The name of the tag (e.g. Dev, v1.0). Defaults to `$(Build.BuildNumber)`. Fails if empty."
        },
        {
            "name": "tagDescription",
            "type": "string",
            "label": "Tag Description",
            "defaultValue": "$(Build.BuildNumber)",
            "required": true,
            "helpMarkDown": "The message of the tag (e.g. Dev, v1.0). Defaults to `$(Build.BuildNumber)`. Fails if empty."
        }
    ],
    "execution": {
        "Node10": {
            "target": "SetTag.js"
        }
    }
}