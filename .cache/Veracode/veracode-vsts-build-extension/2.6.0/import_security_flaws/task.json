{
    "id": "c6f3c728-4d4c-4aa5-a3a1-fc16f6ff9a66",
    "name": "Veracode Flaw Importer",
    "friendlyName": "Veracode Flaw Importer",
    "description": "Import flaws from the Veracode Platform and create work items.",
    "helpMarkDown": "[Veracode](http://www.veracode.com)",
    "category": "Build",
    "visibility": [
        "Build",
        "Release"
    ],
    "author": "Veracode",
    "demands": [
        "java"
    ],
    "version": {
        "Major": 2,
        "Minor": 6,
        "Patch": 0
    },
    "instanceNameFormat": "Import flaws: $(veracodeAppProfile) - $(sandboxName)",
    "groups": [
        {
            "name": "connectionDetailsGroup",
            "displayName": "Connection Details",
            "isExpanded": true
        },
        {
            "name": "flawSource",
            "displayName": "Flaw Source",
            "isExpanded": true
        },
        {
            "name": "workItemGenerationSettings",
            "displayName": "Work Item Settings",
            "isExpanded": true
        },
        {
            "name": "AdvancedGroup",
            "displayName": "Advanced Scan Settings",
            "isExpanded": false
        }
    ],
    "inputs": [
        {
            "name": "ConnectionDetailsSelection",
            "type": "radio",
            "label": "Select Connection Source",
            "required": true,
            "groupName": "connectionDetailsGroup",
            "defaultValue": "Endpoint",
            "helpMarkDown": "Select the endpoint you want to use to connect to Veracode, or enter your Veracode username and password.",
            "options": {
                "Endpoint": "Endpoint",
                "Credentials": "Credentials"
            }
        },
        {
            "name": "AnalysisService",
            "type": "connectedService:VeracodeAnalysisCenterEndpoint",
            "label": "Select Endpoint",
            "required": true,
            "groupName": "connectionDetailsGroup",
            "helpMarkDown": "Select an existing Veracode endpoint or click Manage to create a new endpoint.",
            "visibleRule": "ConnectionDetailsSelection = Endpoint"
        },
        {
            "name": "username",
            "type": "string",
            "label": "Username",
            "required": true,
            "groupName": "connectionDetailsGroup",
            "helpMarkDown": "Enter your Veracode username.",
            "visibleRule": "ConnectionDetailsSelection = Credentials"
        },
        {
            "name": "password",
            "type": "string",
            "label": "Password",
            "required": true,
            "groupName": "connectionDetailsGroup",
            "helpMarkDown": "Enter your Veracode password.",
            "visibleRule": "ConnectionDetailsSelection = Credentials"
        },
        {
            "name": "optargs",
            "type": "string",
            "label": "Proxy Settings",
            "required": false,
            "helpMarkDown": "Enter web proxy settings to pass to the Veracode API wrapper.",
            "groupName": "AdvancedGroup"
        },
         {
            "name": "tfspassword",
            "type": "string",
            "required": false,
            "groupName": "AdvancedGroup",
            "label": "Team Foundation Server Password",
            "defaultValue": "$(password)",
            "helpMarkDown": "Enter your Team Foundation Server password. This variable is only required if you are running Team Foundation Server 2015, Update 2."
        },
        {
            "name": "veracodeAppProfile",
            "type": "string",
            "required": true,
            "groupName": "flawSource",
            "label": "Application Name",
            "defaultValue": "$(system.teamProject)",
            "helpMarkDown": "Enter the name of the application profile in the Veracode Platform."
        },
        {
            "name": "sandboxName",
            "type": "string",
            "label": "Sandbox Name",
            "required": false,
            "groupName": "flawSource",
            "helpMarkDown": "Enter the name of the Veracode developer sandbox, if you are using one."
        },
        {
            "name": "importType",
            "type": "pickList",
            "label": "Import",
            "required": true,
            "defaultValue": "All Unmitigated Flaws Violating Policy",
            "helpMarkDown": "From the dropdown menu, select the types of flaws you want to import from the Veracode scan results.",
            "groupName": "workItemGenerationSettings",
            "options": {
                "All Flaws" : "All Flaws",
				"All Unmitigated Flaws" : "All Unmitigated Flaws",
				"All Flaws Violating Policy":"All Flaws Violating Policy",
				"All Unmitigated Flaws Violating Policy":"All Unmitigated Flaws Violating Policy"
            }
        },
        {
            "name": "workItemType",
            "type": "pickList",
            "label": "Work Item Type",
            "required": true,
            "defaultValue": "Bug",
            "groupName": "workItemGenerationSettings",
            "helpMarkDown": "From the dropdown menu, select which type of work item you want the plugin to create for each of the imported flaws.",
            "options": {
                "Bug": "Bug",
                "Issue": "Issue",
                "Task": "Task",
                "Epic": "Epic",
                "Feature": "Feature",
                "Test Case": "Test Case"
            }
        },
        {
            "name": "area",
            "type": "string",
            "required": true,
            "groupName": "workItemGenerationSettings",
            "label": "Area",
            "defaultValue": "$(system.teamProject)",
            "helpMarkDown": "Enter the path to the area where you want to create work items."
        },
        {
            "name": "addCweAsATag",
            "type": "boolean",
            "required": false,
            "defaultValue": true,
            "groupName": "workItemGenerationSettings",
            "label": "Add CWE as a Tag",
            "helpMarkDown": "Add the CWE ID as a work item tag."
        },
        {
            "name": "addCustomTag",
            "type": "string",
            "required": false,
            "groupName": "workItemGenerationSettings",
            "label": "Add Custom Tag",
            "helpMarkDown": "Add a custom metadata tag to the work item."
        },
        {
            "name": "foundInBuild",
            "type": "boolean",
            "required": false,
            "defaultValue": true,
            "groupName": "workItemGenerationSettings",
            "label": "Add Found in Build",
            "helpMarkDown": "Add the name of the Veracode scan to the Found In field of the work item."
        },
        {
            "name": "flawImportLimit",
            "type": "string",
            "required": true,
            "defaultValue": "1000",
            "groupName": "workItemGenerationSettings",
            "label": "Flaw Import Limit",
            "helpMarkDown": "Enter the maximum number of flaws you want to import."
        }
    ],
    "execution": {
        "Node": {
            "target": "App.js",
            "argumentFormat": ""
        }
    }
}