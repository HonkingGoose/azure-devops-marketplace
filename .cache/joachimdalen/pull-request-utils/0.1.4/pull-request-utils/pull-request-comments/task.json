{
    "$schema": "https://raw.githubusercontent.com/Microsoft/azure-pipelines-task-lib/master/tasks.schema.json",
    "id": "5c6ec8a1-d04c-44c0-99b8-42dd865b42e8",
    "name": "PullRequestComments",
    "friendlyName": "Pull Request Comments",
    "description": "Add comments to a pull request",
    "helpMarkDown": "[Learn more about this task](https://dev.azure.com/dalenapps/Extensions/PullRequestUtils/README.md",
    "category": "Utility",
    "author": "Joachim Dalen",
    "version": {
      "Major": 0,
      "Minor": 1,
      "Patch": 4
    },
    "instanceNameFormat": "$(Action)",
    "groups": [
      {
        "name": "commentOptions",
        "displayName": "Comment Options",
        "isExpanded": true,
        "visibleRule": "action = postComment"
      }
    ],
    "inputs": [
      {
        "name": "action",
        "type": "pickList",
        "label": "Action",
        "required": false,
        "helpMarkDown": "Action to be performed on the pull request",
        "defaultValue": "Post Comment",
        "options": {
          "postComment": "Post Comment",
          "assignTag": "Assign Tag",
          "checkTagExists": "Check if a tag exists"
        }
      },
      {
        "name": "skipIfCommentExists",
        "type": "boolean",
        "label": "Do not post comment if it exists",
        "defaultValue": true,
        "required": false,
        "helpMarkDown": "If the comment exists on the pull request, do not post it again",
        "groupName": "commentOptions",
        "visibleRule": "action = postComment"
      },
      {
        "name": "commentStatus",
        "type": "pickList",
        "label": "Comment Status",
        "helpMarkDown": "Post the comment with a given status",
        "defaultValue": "1",
        "required": false,
        "options": {
          "1": "Active",
          "2": "Fixed",
          "3": "Wont Fix",
          "4": "Closed",
          "5": "By Design",
          "6": "Pending"
        },
        "groupName": "commentOptions",
        "visibleRule": "action = postComment"
      },
      {
        "name": "commentType",
        "type": "pickList",
        "label": "Comment Type",
        "required": false,
        "helpMarkDown": "Posts the comment as text or markdown.",
        "defaultValue": "text",
        "options": {
          "text": "Text",
          "markdown": "Markdown"
        },
        "visibleRule": "action = postComment"
      },
      {
        "name": "commentContent",
        "type": "multiLine",
        "label": "Comment Content",
        "helpMarkDown": "The content of the comment. For Markdown syntax, see [Syntax guidance for basic Markdown usage](http://go.microsoft.com/fwlink/?LinkId=823918)",
        "required": true,
        "visibleRule": "action = postComment"
      },
      {
        "name": "tagName",
        "type": "string",
        "label": "Tag Name",
        "defaultValue": "",
        "visibleRule": "action = assignTag || action = checkTagExists"
      }
    ],
    "execution": {
      "Node10": {
        "target": "index.js"
      }
    }
  }