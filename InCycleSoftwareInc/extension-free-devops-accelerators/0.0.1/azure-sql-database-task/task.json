{"id":"716cb700-1788-4a47-a75a-e54a59f98c76","name":"provisionAzureSqlDatabase","friendlyName":"Accelerators - Create Azure Sql Database","description":"Create Azure SQL Database","author":"InCycleSoftwareInc-DEV","category":"Deploy","visibility":["Build","Release"],"demands":["azureps"],"version":{"Major":"0","Minor":"0","Patch":"1"},"minimumAgentVersion":"1.97.0","groups":[{"name":"subscription","displayName":"Azure Subscription Deployment","isExpanded":true},{"name":"sqlDatabase","displayName":"Azure SQL Database","isExpanded":true},{"name":"taskOutput","displayName":"Task Output Variables","isExpanded":true}],"inputs":[{"name":"ConnectedServiceName","type":"connectedService:AzureRM","label":"Azure Release Manager Subscription","defaultValue":"","required":true,"groupName":"subscription","properties":{},"helpMarkDown":"Azure Resource Manager Subscription to target deplpoyment."},{"name":"ResourceGroupName","type":"pickList","label":"Resource Group","defaultValue":"","required":true,"groupName":"subscription","properties":{"EditableOptions":"True"},"helpMarkDown":"Provide the Azyre Resource Group for deployment."},{"name":"Location","type":"pickList","label":"Location","required":true,"groupName":"subscription","helpMarkDown":"Location for deploying the resource group. If the resource group already exists in the subscription, then this value will be ignored.","properties":{"EditableOptions":"True"}},{"name":"SqlServerName","type":"string","label":"SQL Server Name","defaultValue":"$(ReleaseVariables.SqlServerProvisionedName)","required":true,"groupName":"sqlDatabase","properties":{},"helpMarkDown":"Name of the target SQL Server (should have been defined by previous 'deploy server' task)."},{"name":"DatabaseName","type":"string","label":"Database Name","defaultValue":"$(ReleaseVariables.SqlDatabaseName)","required":true,"groupName":"sqlDatabase","properties":{},"helpMarkDown":"Name of the SQL Database to deploy (should be defined in a Release variable)."},{"name":"DatabaseEdition","type":"pickList","label":"Database Edition","defaultValue":"Basic","required":true,"groupName":"sqlDatabase","properties":{"EditableOptions":"False"},"options":{"Basic":"Basic","Standard":"Standard","Premium":"Premium","ElasticPool":"Elastic Pool Member"},"helpMarkDown":"SQL Database Edition to deploy."},{"name":"SqlElasticPoolName","type":"string","label":"Sql Elastic Pool Name","defaultValue":"","required":true,"groupName":"sqlDatabase","properties":{},"visibleRule":"DatabaseEdition == ElasticPool","helpMarkDown":"SQL Elastic Database Pool that this SQL Database will be a member of."},{"name":"BasicServicePlan","type":"pickList","label":"Basic Database Performance Plan","defaultValue":"Basic","required":true,"groupName":"sqlDatabase","properties":{},"visibleRule":"DatabaseEdition == Basic","options":{"Basic":"Basic 5 DTU"},"helpMarkDown":"SQL Database performance plan for selected edition."},{"name":"StandardServicePlan","type":"pickList","label":"Standard Database Performance Plan","defaultValue":"S0","required":true,"groupName":"sqlDatabase","properties":{},"visibleRule":"DatabaseEdition == Standard","options":{"S0":"Standard 10 DTU","S1":"Standard 20 DTU","S2":"Standard 50 DTU","S3":"Standard 100 DTU"},"helpMarkDown":"SQL Database performance plan for selected edition."},{"name":"PremiumServicePlan","type":"pickList","label":"Premium Database Performance Plan","defaultValue":"P1","required":true,"groupName":"sqlDatabase","properties":{},"visibleRule":"DatabaseEdition == Premium","options":{"P1":"Premium 125 DTU","P2":"Premium 250 DTU","P4":"Premium 500 DTU","P6":"Premium 1000 DTU","P11":"Premium 1750 DTU","P15":"Premium 4000 DTU"},"helpMarkDown":"SQL Database performance plan for selected edition."},{"name":"Collation","type":"string","label":"Database Collation","defaultValue":"SQL_Latin1_General_CP1_CI_AS","required":true,"groupName":"sqlDatabase","properties":{},"helpMarkDown":"SQL Database Collation."},{"name":"MaxSizeInBytes","type":"string","label":"Database Max Size","defaultValue":"1073741824","required":true,"groupName":"sqlDatabase","properties":{},"helpMarkDown":"SQL Database maximum size in bytes."},{"name":"Output_DatabaseName","type":"string","label":"Database Name","defaultValue":"ReleaseVariables.SqlDatabaseProvisionedName","required":false,"groupName":"taskOutput","helpMarkDown":"Provide a name for the variable for the created Azure SQL Database. The variable can be used as $(variableName) to refer to the database in subsequent tasks."}],"dataSourceBindings":[{"target":"ResourceGroupName","endpointId":"$(ConnectedServiceName)","dataSourceName":"AzureResourceGroups"},{"target":"location","endpointId":"$(ConnectedServiceName)","dataSourceName":"AzureLocations"}],"instanceNameFormat":"Azure DevOps Accelerators - Azure Sql Database","execution":{"PowerShell3":{"target":"main.ps1","argumentFormat":""}}}
