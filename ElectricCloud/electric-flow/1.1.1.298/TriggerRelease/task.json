{
   "category" : "build",
   "execution" : {
      "Node" : {
         "target" : "index.js"
      }
   },
   "instanceNameFormat" : "Trigger Release $(releaseName) from project $(projectName)",
   "helpMarkDown" : "",
   "author" : "Electric Cloud",
   "version" : {
      "Major" : "1",
      "Patch" : "1",
      "Minor" : "1"
   },
   "description" : "Start a release in ElectricFlow.",
   "id" : "41e66e30-f95f-11e8-a9f6-d16792ff02ec",
   "friendlyName" : "ElectricFlow - Trigger Release",
   "dataSourceBindings" : [
      {
         "dataSourceName" : "ElectricFlowProjects",
         "target" : "projectName",
         "endpointId" : "$(electricFlowService)",
         "resultTemplate" : "{\"Value\": \"{{#unless this.pluginKey}}{{{this.projectName}}}{{else}}Default{{/unless}}\", \"DisplayValue\": \"{{#unless this.pluginKey}}{{{this.projectName}}}{{else}}Default{{/unless}}\"}"
      },
      {
         "dataSourceName" : "ElectricFlowReleases",
         "endpointId" : "$(electricFlowService)",
         "target" : "releaseName",
         "parameters" : {
            "projectName" : "$(projectName)"
         }
      },
      {
         "parameters" : {
            "releaseName" : "$(releaseName)",
            "projectName" : "$(projectName)"
         },
         "endpointId" : "$(electricFlowService)",
         "target" : "startingStageName",
         "dataSourceName" : "ElectricFlowReleaseStages"
      }
   ],
   "inputs" : [
      {
         "label" : "ElectricFlow Service Endpoint",
         "defaultValue" : "",
         "helpMarkDown" : "Select the ElectricFlow endpoint to use.",
         "required" : true,
         "type" : "connectedService:electricFlow",
         "name" : "electricFlowService"
      },
      {
         "label" : "Project Name",
         "helpMarkDown" : "Specify the ElectricFlow project name.",
         "defaultValue" : "",
         "properties" : {
            "EditableOptions" : true
         },
         "required" : true,
         "type" : "pickList",
         "name" : "projectName"
      },
      {
         "label" : "Release Name",
         "defaultValue" : "",
         "helpMarkDown" : "Specify the ElectricFlow release name.",
         "required" : true,
         "properties" : {
            "EditableOptions" : true
         },
         "type" : "pickList",
         "name" : "releaseName"
      },
      {
         "name" : "startingStageName",
         "type" : "pickList",
         "properties" : {
            "EditableOptions" : true
         },
         "required" : false,
         "helpMarkDown" : "Specify the starting stage name",
         "defaultValue" : "",
         "label" : "Starting stage name"
      },
      {
         "type" : "string",
         "name" : "stagesToRun",
         "label" : "Stages to run",
         "helpMarkDown" : "One or more stages to run in a pipeline associated with the release, comma-separated.",
         "defaultValue" : ""
      },
      {
         "label" : "Requires pipeline parameters",
         "required" : false,
         "helpMarkDown" : "If checked, parameters will be passed to the pipeline",
         "type" : "boolean",
         "name" : "requiresAdditionalParameters"
      },
      {
         "helpMarkDown" : "Parameters for the pipeline call, in key=value pairs or in JSON format. E.g. myParam = value",
         "required" : false,
         "label" : "Pipeline parameters",
         "name" : "additionalParameters",
         "visibleRule" : "requiresAdditionalParameters=true",
         "type" : "multiLine"
      }
   ],
   "name" : "TriggerRelease"
}
