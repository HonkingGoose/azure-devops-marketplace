{
  "id": "ba0d0ad0-393c-11eb-bbda-d53a76740bce",
  "name": "RapiseV1",
  "friendlyName": "Run Rapise Test Set",
  "description": "Install Rapise & Run Test Set using RapiseLauncher",
  "author": "Alexey Grinevich, Inflectra",
  "helpMarkDown": "Replace with markdown to show in help",
  "category": "Utility",
  "visibility": [
    "Build",
    "Release"
  ],
  "demands": [],
  "version": {
    "Major": "0",
    "Minor": "2",
    "Patch": "0"
  },
  "minimumAgentVersion": "1.95.0",
  "instanceNameFormat": "RapiseV1 $(message)",
  "groups": [
    {
      "name": "spira",
      "displayName": "SpiraTeam",
      "isExpanded": true
    },
    {
        "name": "executionOptions",
        "displayName": "Execution Options",
        "isExpanded": true
    },
    {
        "name": "advancedExecutionOptions",
        "displayName": "Advanced Execution Options",
        "isExpanded": false
    }
  ],
  "inputs": [
    {
      "name": "spiraConnection",
      "type": "connectedService:Spira",
      "label": "Spira service/server end point",
      "defaultValue": "",
      "required": true,
      "groupName": "spira",
      "helpMarkDown": "Select the Spira end point to use. If needed, click 'Project Settings', select 'Service Connections' and add a new service endpoint of type 'Spira server connection'"
    },
    {
      "name": "spiraProjectId",
      "type": "pickList",
      "label": "Spira Product",
      "required": true,
      "helpMarkDown": "Select the name of the Spira Product.",
      "groupName": "spira",
      "properties": {
        "EditableOptions": "True"
      }
    },
    {
      "name": "testSetId",
      "type": "string",
      "label": "Rapise Set ID",
      "defaultValue": "",
      "required": true,
      "helpMarkDown": "Test Set ID (one or many)",
      "groupName": "spira"
    },


    {
      "name": "installRapise",
      "type": "boolean",
      "label": "Rapise Needs to Be Installed",
      "defaultValue": "true",
      "required": true,
      "helpMarkDown": "You may have rapise already installed, or install it by enabling this option.",
      "groupName": "executionOptions"
    },
    {
      "name": "rapiseVersion",
      "type": "string",
      "label": "Rapise Version",
      "defaultValue": "6.6.21.22",
      "required": false,
      "helpMarkDown": "Rapise Version to Install",
      "visibleRule": "installRapise == true",
      "groupName": "executionOptions"
    },
    {
      "name": "recordVideo",
      "type": "boolean",
      "label": "Record Video of Execution",
      "defaultValue": "True",
      "required": false,
      "helpMarkDown": "Video recording will be enabled for Execution and uploaded to Spira Test Run",
      "groupName": "advancedExecutionOptions"
    },
    {
      "name": "publishRapiseLauncherLog",
      "type": "boolean",
      "label": "Publish RapiseLauncher Log",
      "defaultValue": "True",
      "required": false,
      "helpMarkDown": "Publish RapiseLauncher Execution log as pipeline artifact.",
      "groupName": "advancedExecutionOptions"
    }
  ],
  "execution": {
    "PowerShell": {
        "target": "$(currentDirectory)\\task.ps1",
        "argumentFormat": "",
        "workingDirectory": "$(currentDirectory)",
        "platforms": [
            "windows"
        ]
    }
  },
  "dataSourceBindings": [
    {
      "target": "spiraProjectId",
      "endpointId": "$(spiraConnection)",
      "dataSourceName": "Spira Projects"
    }
  ]
}