{
  "$schema": "https://raw.githubusercontent.com/Microsoft/azure-pipelines-task-lib/master/tasks.schema.json",
  "id": "dde485a1-475e-4061-8ed9-8798d08421f8",
  "name": "KryptowireMAST",
  "friendlyName": "Kryptowire Mobile Application Security Testing Extension",
  "description": "Build Task extension for submitting the artifact file for Kryptowire analysis",
  "helpMarkDown": "",
  "category": "Build",
  "author": "Kryptowire-Inc",
  "version": {
    "Major": 1,
    "Minor": 0,
    "Patch": 2
  },
  "inputs": [
    {
      "name": "filepath",
      "type": "string",
      "label": "File Path",
      "defaultValue": "",
      "required": true,
      "helpMarkDown": "The File Path"
    },
    {
      "name": "url",
      "type": "string",
      "label": "API URL",
      "defaultValue": "https://emm.kryptowire.com/api",
      "required": false,
      "helpMarkDown": "URL for the Kryptowire API"
    },
    {
      "name": "apikey",
      "type": "string",
      "label": "API Key",
      "defaultValue": "",
      "required": true,
      "helpMarkDown": "The API Key"
    },
    {
      "name": "platform",
      "type": "string",
      "label": "Platform",
      "defaultValue": "",
      "required": true,
      "helpMarkDown": "The Platform"
    },
    {
      "name": "externalId",
      "type": "string",
      "label": "External ID",
      "defaultValue": "",
      "required": false,
      "helpMarkDown": "The External ID to assign to this app submission"
    },
    {
      "name": "subgroupIds",
      "type": "string",
      "label": "Sub Group IDs",
      "defaultValue": "",
      "required": false,
      "helpMarkDown": "The Sub Group IDs"
    },
    {
      "name": "scoreThreshold",
      "type": "int",
      "label": "Score Threshold",
      "defaultValue": "0",
      "required": false,
      "helpMarkDown": "Break Build on Lower Security Score Than"
    },
    {
      "name": "maxAnalysisTime",
      "type": "int",
      "label": "Max Wait Time (in minutes)",
      "defaultValue": "30",
      "required": false,
      "helpMarkDown": " This defines how long the build should wait (in minutes) to finish security analysis."
    },
    {
      "name": "resultsDir",
      "type": "string",
      "label": "Result Dir",
      "defaultValue": "/",
      "required": true,
      "helpMarkDown": "Directory contains analysis results"
    }
  ],
  "execution": {
    "Node10": {
      "target": "index.js"
    }
  }
}
